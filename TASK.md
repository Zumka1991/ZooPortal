# ZooPortal — Портал помощи животным

## Описание проекта

Веб-портал для помощи животным: поиск приютов, покупка/продажа питомцев, отдача в добрые руки, поиск потерянных животных и полезные статьи по уходу.

## Технологический стек

- **Frontend:** Next.js 14+ (App Router, SSR/SSG)
- **Backend:** ASP.NET Core Web API
- **База данных:** PostgreSQL
- **Хранение файлов:** S3-совместимое хранилище (изображения животных)
- **Аутентификация:** JWT + Refresh tokens

---

## MVP (Первая версия)

### 1. Каталог приютов
- [ ] Список приютов с фильтрацией по городу
- [ ] Карточка приюта (адрес, контакты, описание, фото)
- [ ] Интеграция с картой (Яндекс.Карты / 2GIS)
- [ ] Животные приюта (связь с объявлениями)

### 2. Объявления о животных
- [ ] Типы: продажа, покупка, отдача в добрые руки
- [ ] Фильтры: вид животного, порода, город, цена
- [ ] Карточка объявления с галереей фото
- [ ] Контакты владельца (телефон, мессенджеры)
- [ ] Избранное (для авторизованных)

### 3. Потерянные и найденные
- [ ] Раздел "Потерял" — объявления о пропаже
- [ ] Раздел "Нашёл" — объявления о найденных животных
- [ ] Геолокация места пропажи/находки
- [ ] Уведомления о совпадениях в радиусе

### 4. Статьи и блог
- [ ] Категории: уход, питание, здоровье, воспитание
- [ ] Фильтрация по виду животного
- [ ] Поиск по статьям
- [ ] SEO-оптимизация (SSG)

### 5. Пользователи
- [ ] Регистрация / авторизация
- [ ] Личный кабинет
- [ ] Мои объявления
- [ ] Избранное
- [ ] Настройки профиля

### 6. Админ-панель

#### 6.1 Авторизация и доступ
- [ ] Middleware для проверки роли Admin/Moderator
- [ ] Отдельная страница входа в админку `/admin/login`
- [ ] Защита всех admin-роутов через `[Authorize(Roles = "Admin,Moderator")]`
- [ ] Перенаправление неавторизованных на страницу входа
- [ ] Seed-скрипт для создания первого администратора

#### 6.2 Dashboard (Главная панель)
- [ ] Статистика: количество пользователей, объявлений, приютов, статей
- [ ] Последние зарегистрированные пользователи
- [ ] Объявления на модерации
- [ ] Графики активности (опционально)

#### 6.3 Модерация объявлений
- [ ] Список объявлений с фильтрами (статус, тип, дата)
- [ ] Статусы: на модерации, одобрено, отклонено
- [ ] Просмотр деталей объявления
- [ ] Одобрение / отклонение с комментарием
- [ ] Массовые действия (одобрить/отклонить несколько)

#### 6.4 Управление приютами
- [ ] CRUD для приютов
- [ ] Загрузка/удаление фотографий
- [ ] Верификация приютов
- [ ] Привязка контактного лица (пользователя)

#### 6.5 Управление статьями (WYSIWYG редактор)
- [ ] CRUD для статей
- [ ] WYSIWYG редактор (TinyMCE / Editor.js / Tiptap)
- [ ] Загрузка изображений в статьи
- [ ] Черновики и публикация
- [ ] SEO настройки (meta title, description, slug)
- [ ] Выбор категории и тегов

#### 6.6 Управление пользователями
- [ ] Список пользователей с поиском и фильтрами
- [ ] Просмотр профиля пользователя
- [ ] Изменение роли (User / Moderator / Admin)
- [ ] Блокировка / разблокировка пользователя
- [ ] Просмотр объявлений пользователя

#### 6.7 Управление потерянными/найденными
- [ ] Модерация объявлений о пропаже/находке
- [ ] Просмотр совпадений
- [ ] Помощь в связи владельца и нашедшего

---

## Фаза 2 (После MVP)

### Сервисы
- [ ] Каталог ветеринарных клиник
- [ ] Каталог грумеров, кинологов
- [ ] Зоогостиницы и передержки
- [ ] Отзывы и рейтинги

### Сообщество
- [ ] Форум / обсуждения
- [ ] Комментарии к статьям
- [ ] Система репутации пользователей

### Благотворительность
- [ ] Сбор средств для приютов
- [ ] Волонтёрские программы
- [ ] Виртуальное спонсорство животных

### Маркетплейс
- [ ] Товары для животных
- [ ] Б/у товары от владельцев

### AI-функции
- [ ] Определение породы по фото
- [ ] Умный поиск по описанию

---

## Структура проекта

```
ZooPortal/
├── frontend/                    # Next.js приложение
│   ├── app/                     # App Router
│   │   ├── (public)/            # Публичные страницы
│   │   └── admin/               # Админ-панель
│   │       ├── layout.tsx       # Layout админки с sidebar
│   │       ├── login/           # Страница входа
│   │       ├── dashboard/       # Главная панель
│   │       ├── users/           # Управление пользователями
│   │       ├── listings/        # Модерация объявлений
│   │       ├── shelters/        # Управление приютами
│   │       ├── articles/        # Управление статьями
│   │       └── lost-found/      # Потерянные/найденные
│   ├── components/              # React компоненты
│   │   └── admin/               # Компоненты админки
│   │       ├── Sidebar.tsx
│   │       ├── Header.tsx
│   │       ├── DataTable.tsx
│   │       └── ...
│   ├── lib/                     # Утилиты, API клиент
│   │   └── admin/               # Админские утилиты
│   │       └── api.ts           # API клиент для админки
│   └── public/                  # Статика
│
├── backend/                     # ASP.NET Core API
│   ├── Controllers/
│   │   ├── Admin/               # Админ контроллеры
│   │   │   ├── AdminDashboardController.cs
│   │   │   ├── AdminUsersController.cs
│   │   │   ├── AdminListingsController.cs
│   │   │   ├── AdminSheltersController.cs
│   │   │   ├── AdminArticlesController.cs
│   │   │   └── AdminLostFoundController.cs
│   │   └── ...
│   ├── Services/                # Бизнес-логика
│   ├── Models/                  # Сущности
│   └── Data/                    # DbContext, миграции
│
└── docs/                        # Документация
```

---

## API Endpoints (предварительно)

### Приюты
- `GET /api/shelters` — список приютов
- `GET /api/shelters/{id}` — детали приюта
- `POST /api/shelters` — создать (admin)

### Объявления
- `GET /api/listings` — список объявлений
- `GET /api/listings/{id}` — детали объявления
- `POST /api/listings` — создать объявление
- `PUT /api/listings/{id}` — редактировать
- `DELETE /api/listings/{id}` — удалить

### Потерянные/найденные
- `GET /api/lost-found` — список
- `POST /api/lost-found` — создать
- `GET /api/lost-found/matches` — поиск совпадений

### Статьи
- `GET /api/articles` — список статей
- `GET /api/articles/{slug}` — статья по slug

### Пользователи
- `POST /api/auth/register` — регистрация
- `POST /api/auth/login` — вход
- `GET /api/users/me` — профиль
- `GET /api/users/me/listings` — мои объявления

### Админ-панель
- `GET /api/admin/dashboard` — статистика для дашборда
- `GET /api/admin/users` — список пользователей (с пагинацией)
- `GET /api/admin/users/{id}` — детали пользователя
- `PUT /api/admin/users/{id}/role` — изменить роль
- `PUT /api/admin/users/{id}/status` — блокировка/разблокировка
- `GET /api/admin/listings` — все объявления (с фильтрами)
- `PUT /api/admin/listings/{id}/moderate` — модерация (approve/reject)
- `GET /api/admin/shelters` — список приютов
- `POST /api/admin/shelters` — создать приют
- `PUT /api/admin/shelters/{id}` — обновить приют
- `DELETE /api/admin/shelters/{id}` — удалить приют
- `GET /api/admin/articles` — список статей
- `POST /api/admin/articles` — создать статью
- `PUT /api/admin/articles/{id}` — обновить статью
- `DELETE /api/admin/articles/{id}` — удалить статью
- `GET /api/admin/lost-found` — все объявления потерянных/найденных
- `PUT /api/admin/lost-found/{id}/moderate` — модерация

---

## Дизайн

- Адаптивный (mobile-first)
- Светлая тема (тёмная — опционально)
- UI Kit: shadcn/ui или аналог
- Цветовая схема: природные тона (зелёный, коричневый, бежевый)

---

## SEO требования

- SSR/SSG для всех публичных страниц
- Динамические meta-теги
- Open Graph для соцсетей
- Структурированные данные (JSON-LD)
- Автогенерация sitemap.xml
- ЧПУ (человекопонятные URL)

---

## Примечания

- Приоритет: MVP → тестирование → Фаза 2
- Все тексты на русском языке
- Поддержка мобильных устройств обязательна
